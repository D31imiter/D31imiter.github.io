##### 共享库命名规范

libname.so.x.y.z，x主版本号，y次版本号，z发布版本号

但是有许多共享库不遵循这个命名规则，比如最基本的c语言库glibc就不遵循，glibc的命名方式为libc-x.y.z.so这样的命名方式

```
libc一开始的命名方式为libc-x.y.z.so这种形式，但是在2.15版本左右，取消了发布版本号，形为libc-x.y.so
```

动态链接器也是glibc的一部分，它使用ld-x.y.z.so这样的命名方式

##### soname

soname是一个指向真实库名的符号链接，命名方式为libcname.so.x，x为主版本号，也就是实际库名去掉次版本号和发布版本号

c语言库的soname按照正常的规则，例如libc-2.6.1.so，它的soname为libc.so.6

c的动态链接器不按照正常的规则，例如ld-2.6.1.so，它的soname为ld-linux.so

具体的动态链接器文件名可能因发行版、架构和配置而有所不同

##### elf共享库链接过程

1. 动态链接器（即装载器），装载器可以装载多个指向 soname 的符号链接
2. 每个soname是一个指向真实库名的符号链接

当运行一个elf文件时，默认情况下装载器是第一个被运行的，装载器本身也是一个共享库文件，这个装载器会找到并且装载所有我们程序所依赖的共享库文件。装载器在默认搜索目录（`/usr/lib`和 `/lib`）以及动态库配置文件 `/etc/ld.so.conf` 内所列的目录下搜索共享库，搜索这些目录下的共享库耗时很长，所以使用了一个缓存文件来提高效率。

ldconfig会建立所需要的符号链接，然后在 `/etc/ld.so.cache` 文件中创建一个所有可执行文件需要的所有共享库的高速缓存，从缓存中读取信息可大大减少装载器花费的时间
